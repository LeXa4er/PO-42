# Техническое задание: Кинотеатр на C# WinForms с использованием SQL Server

**Группа: PO-42**

**Разработчики:**
- [Аникин](https://github.com/MRXTOOR "Веду́щий программи́ст") 
- [Калинин](https://github.com/MRXTOOR "Ведущий UI/UX разработчик") 
- [Петров](https://github.com/VLoneB "Ведущий ETL разработчик") 
- [Вощевоз](https://github.com/alexandra3778 "Разработчик баз данных") 

**Условия эксплуатации:**

- Microsoft Windows 10
- Оперативная память: не менее 1 Гб
- Жесткий диск не менее 100 Гб
- Процессор: не менее Pentium-2.0 GHz
- Клавиатура и мышь
- Framework 4.7
- MS SQL Server

## Введение

Проект представляет собой систему управления кинотеатром, разработанную на языке программирования C# с использованием WinForms для пользовательского интерфейса и SQL Server для хранения данных.

## Функциональные требования

1. **Регистрация и аутентификация**
   - Реализовать систему регистрации пользователей с сохранением данных в базе данных.
   - Пользователи должны иметь возможность войти в систему, используя свои учетные данные.

2. **Управление фильмами**
   - Добавление новых фильмов в базу данных (название, описание, рейтинг, продолжительность и т.д.).
   - Просмотр списка фильмов с возможностью фильтрации и поиска.
   - Редактирование и удаление фильмов.

3. **Управление сеансами**
   - Создание новых сеансов с привязкой к определенному фильму, дате и времени начала.
   - Отображение списка текущих и предстоящих сеансов.
   - Редактирование и отмена существующих сеансов.

4. **Управление бронированием билетов**
   - Покупка билетов на определенный сеанс.
   - Отображение доступных мест и их статуса (свободные, забронированные и т.д.).
   - Просмотр и отмена существующих бронирований.

5. **Административный функционал**
   - Создание и управление учетными записями администраторов кинотеатра.
   - Просмотр отчетов о продажах и посещаемости кинотеатра.

## Технические требования

- Использование языка программирования C#.
- Использование WinForms для построения графического интерфейса.
- Использование SQL Server для хранения данных (таблицы для фильмов, сеансов, пользователей и бронирования билетов).
- Корректная обработка ошибок и исключений.
- Понятный и интуитивно понятный пользовательский интерфейс.

## Дополнительные требования

- Проект должен быть разделен на логические слои (пользовательский интерфейс, бизнес-логика, работа с базой данных).
- Исходный код проекта должен быть хорошо комментирован и структурирован.

# База данных кинотеатра

Для хранения данных кинотеатра используется Microsoft SQL Server. Ниже приведены таблицы базы данных и их соответствующие функции в контексте проекта.

## Таблица `Users`

Таблица для хранения информации о пользователях кинотеатра.

| Поле      | Тип данных | Описание                     |
|-----------|------------|------------------------------|
| `UserID`  | INT        | Уникальный идентификатор пользователя |
| `Username`| VARCHAR(50)| Имя пользователя              |
| `Password`| VARCHAR(50)| Хешированный пароль пользователя |
| `IsAdmin` | BIT        | Флаг, указывающий, является ли пользователь администратором |

## Таблица `Movies`

Таблица для хранения информации о фильмах, которые показывает кинотеатр.

| Поле        | Тип данных | Описание                           |
|-------------|------------|------------------------------------|
| `MovieID`   | INT        | Уникальный идентификатор фильма    |
| `Title`     | VARCHAR(100)| Название фильма                    |
| `Description`| TEXT      | Описание фильма                    |
| `Rating`    | DECIMAL(3,1)| Рейтинг фильма (например, 7.5)     |
| `Duration`  | INT        | Продолжительность фильма в минутах |

## Таблица `Sessions`

Таблица для хранения информации о сеансах в кинотеатре.

| Поле         | Тип данных | Описание                                   |
|--------------|------------|--------------------------------------------|
| `SessionID`  | INT        | Уникальный идентификатор сеанса            |
| `MovieID`    | INT        | Идентификатор фильма, связанного с сеансом |
| `StartTime`  | DATETIME   | Время начала сеанса                        |

## Таблица `Bookings`

Таблица для хранения информации о бронировании билетов на сеансы.

| Поле          | Тип данных | Описание                                   |
|---------------|------------|--------------------------------------------|
| `BookingID`   | INT        | Уникальный идентификатор бронирования      |
| `UserID`      | INT        | Идентификатор пользователя, который забронировал билет |
| `SessionID`   | INT        | Идентификатор сеанса, на который забронирован билет |
| `SeatNumber`  | INT        | Номер забронированного места в зале         |
| `IsCancelled` | BIT        | Флаг, указывающий, отменено ли бронирование |

# Описание форм и функций

## 1. Форма Регистрации

- **Описание:** Форма, предназначенная для регистрации новых пользователей в системе.

- **Функции:**
  - Ввод информации о новом пользователе (имя, пароль).
  - Отправка данных на сервер для регистрации.
  - Валидация введенных данных (проверка на уникальность имени пользователя и другие).
  - Отображение сообщений об успешной регистрации или ошибке.

## 2. Форма Входа

- **Описание:** Форма для аутентификации пользователей.

- **Функции:**
  - Ввод учетных данных (имя и пароль).
  - Проверка данных на соответствие с данными в базе данных.
  - Открытие доступа к функционалу при успешной аутентификации.
  - Отображение сообщений об ошибках при неудачной аутентификации.

## 3. Форма Управления Фильмами

- **Описание:** Форма, предназначенная для управления фильмами в кинотеатре.

- **Функции:**
  - Добавление нового фильма (ввод названия, описания, рейтинга и другой информации).
  - Просмотр списка фильмов с возможностью редактирования и удаления.
  - Фильтрация и поиск фильмов по различным критериям.

## 4. Форма Управления Сеансами

- **Описание:** Форма для управления сеансами и расписанием в кинотеатре.

- **Функции:**
  - Создание нового сеанса (выбор фильма, установка времени начала).
  - Отображение списка текущих и предстоящих сеансов с возможностью редактирования и отмены.
  - Подробная информация о сеансе (название фильма, дата, время и другие).

## 5. Форма Бронирования Билетов

- **Описание:** Форма для выбора мест и бронирования билетов на сеансы.

- **Функции:**
  - Отображение доступных мест в зале с указанием их статуса (свободные, забронированные).
  - Выбор мест и процесс бронирования билетов на определенный сеанс.
  - Просмотр и отмена существующих бронирований.

## 6. Форма Администрирования

- **Описание:** Форма для управления учетными записями администраторов и просмотра отчетов.

- **Функции:**
  - Создание и управление учетными записями администраторов кинотеатр
# Дополнительные Требования

## Обработка Переменных

- **Понятные Имена Переменных:** Переменные должны иметь осмысленные имена, описывающие их назначение, для улучшения читаемости кода.

- **Инициализация Переменных:** Все переменные должны быть корректно инициализированы перед использованием, чтобы избежать ошибок связанных с неопределенными значениями.

- **Константы:** Используйте константы для значений, которые не должны изменяться в течение выполнения программы. Это делает код более поддерживаемым и уменьшает вероятность ошибок.

## Использование Конструкции try-catch

- **Корректная Обработка Ошибок:** Используйте конструкцию `try-catch` для обработки исключений и ошибок. Все блоки кода, которые могут вызвать исключения, должны быть заключены в `try-catch` для предотвращения сбоев приложения.

- **Логгирование Ошибок:** При возникновении ошибок, записывайте информацию об ошибке в лог файлы или выводите сообщения об ошибке для упрощения диагностики и устранения проблем.

- **Информативные Сообщения об Ошибках:** Предоставляйте информативные сообщения об ошибках, которые помогут разработчикам понять причину возникшей проблемы.

- **Контролируемые Исключения:** Используйте только те конструкции `try-catch`, которые относятся к контролируемым исключениям, которые можно предвидеть и обработать.
